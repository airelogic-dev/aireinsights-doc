<!DOCTYPE html>
<html lang="en">

    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Python SDK | AireInsights Docs</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Python SDK" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Python SDK allows you to create your own module for AireInsights using python. AireInsights communicates with the modules using a message broker (by defualt this is RabbitMQ). Let’s assume we have a python function that does some fancy data processing called my_processing_function, the following snipped shows how this function can be used to create an AireInsights module." />
<meta property="og:description" content="The Python SDK allows you to create your own module for AireInsights using python. AireInsights communicates with the modules using a message broker (by defualt this is RabbitMQ). Let’s assume we have a python function that does some fancy data processing called my_processing_function, the following snipped shows how this function can be used to create an AireInsights module." />
<meta property="og:site_name" content="AireInsights Docs" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-05-16T15:29:31+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Python SDK" />
<script type="application/ld+json">
{"description":"The Python SDK allows you to create your own module for AireInsights using python. AireInsights communicates with the modules using a message broker (by defualt this is RabbitMQ). Let’s assume we have a python function that does some fancy data processing called my_processing_function, the following snipped shows how this function can be used to create an AireInsights module.","@type":"BlogPosting","headline":"Python SDK","dateModified":"2024-05-16T15:29:31+00:00","datePublished":"2024-05-16T15:29:31+00:00","url":"/docs/sdk/python-sdk/","mainEntityOfPage":{"@type":"WebPage","@id":"/docs/sdk/python-sdk/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <meta property="og:image" content="/assets/posts/"/>
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" type="image/png" href="/assets/img/favicon.png" >
  <link rel="alternate" type="application/rss+xml" title="AireInsights Docs" href="/feed.xml">
  <script src="/assets/js/main.js"></script>
  
</head>

    <body>
    <header class="uk-background-secondary">
    <div data-uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky" class="uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 1904px;">
        <nav class="uk-navbar-container">
            <div class="uk-container">
    <div data-uk-navbar>
        <div class="uk-navbar-left">
            <a class="uk-navbar-item uk-logo uk-visible@m" href="/">AireInsights Docs</a>
            
              <a class="uk-navbar-toggle uk-hidden@m" href="#offcanvas-docs" data-uk-toggle><span data-uk-navbar-toggle-icon></span> <span class="uk-margin-small-left">Mini-nav</span></a>
            

        </div>
        <div class="uk-navbar-center uk-hidden@m">
            <a class="uk-navbar-item uk-logo" href="/">AireInsights Docs</a>
        </div>
        <div class="uk-navbar-right">
            <ul class="uk-navbar-nav uk-visible@m">
                
                    
                    
                    
                        <li><a href="/docs/getting-started/what-is" >Getting Started</a></li>
                    
                
                    
                    
                    
                        <li><a href="/changelog/" >Changelog</a></li>
                    
                
                    
                    
                    
                        <li><a href="https://www.airelogic.com/aireinnovate" target="_blank" >About AireInnovate</a></li>
                    
                
            </ul>

            
            <div>
                <a class="uk-navbar-toggle" uk-search-icon href="#"></a>
                <div class="uk-drop uk-background-default uk-border-rounded" uk-drop="mode: click; pos: left-center; offset: 0">
                    <form class="uk-search uk-search-navbar uk-width-1-1" onsubmit="return false;">
                        <input id="navbar-search" class="uk-search-input" type="search" placeholder="Search..." autofocus>
                    </form>
                    <ul id="navbar-search-results" class="uk-position-absolute uk-width-1-1 uk-list"></ul>
                </div>
            </div>
            <script>
            SimpleJekyllSearch({
                searchInput: document.getElementById('navbar-search'),
                resultsContainer: document.getElementById('navbar-search-results'),
                noResultsText: '<li>No results found</li>',
                searchResultTemplate: '<li><a href="{url}">{title}</a></li>',
                json: '/search.json'
            });
            </script>
            

            
              <a class="uk-navbar-toggle uk-hidden@m" href="#offcanvas" data-uk-toggle><span data-uk-navbar-toggle-icon></span> <span class="uk-margin-small-left">Menu</span></a>
            


        </div>
    </div>
</div>

        </nav>
    </div>
</header>


    

    <div class="uk-section">
    <div class="uk-container">
        <div class="uk-grid-large" data-uk-grid>

            <div class="sidebar-fixed-width uk-visible@m">
                <div class="sidebar-docs uk-position-fixed">
                    
                    <h5>Getting Started</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class=""><a href="/docs/getting-started/what-is/">Getting Started with AireInsights</a></li>
                    
                      
                      
                      <li class=""><a href="/docs/getting-started/first-pipeline/">Setting up the first data pipeline</a></li>
                    
                    </ul>
                    
                    <h5>Concepts</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class=""><a href="/docs/concepts/pipeline/">Data Pipeline</a></li>
                    
                      
                      
                      <li class=""><a href="/docs/concepts/step/">Processing Step</a></li>
                    
                      
                      
                      <li class=""><a href="/docs/concepts/data-lake/">Data Lake</a></li>
                    
                      
                      
                      <li class=""><a href="/docs/concepts/trigger/">Pipeline triggers</a></li>
                    
                    </ul>
                    
                    <h5>Toolkits</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class="uk-active"><a href="/docs/sdk/python-sdk/">Python SDK</a></li>
                    
                      
                      
                      <li class=""><a href="/docs/sdk/csharp-dotnet-sdk/">C# SDK</a></li>
                    
                    </ul>
                    
                    <h5>Management</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class=""><a href="/docs/management/failedPipelines/">Pipeline failures</a></li>
                    
                    </ul>
                    
                    <h5>API</h5>
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      
                      <li class=""><a href="/docs/api/auth/">Authentication</a></li>
                    
                      
                      
                      <li class=""><a href="/docs/api/endpoints/">Endpoints</a></li>
                    
                    </ul>
                    
                </div>
            </div>

            <div class="uk-width-1-1 uk-width-expand@m">

                <article class="uk-article">

                    <h1 class="uk-article-title">Python SDK</h1>

                    

                    <div class="uk-article-meta uk-margin-top uk-margin-medium-bottom">
                        





<time datetime="2024-05-16T15:29:31+00:00" itemprop="datePublished">
    
    May 16, 2024
</time>

                    </div>

                    <div class="article-content">
                        <p>The Python SDK allows you to create your own module for AireInsights using python. AireInsights communicates with the modules using a message broker (by defualt this is RabbitMQ). Let’s assume we have a python function that does some fancy data processing called <code class="language-plaintext highlighter-rouge">my_processing_function</code>, the following snipped shows how this function can be used to create an AireInsights module.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">aireinsights</span> <span class="kn">import</span> <span class="n">AireInsights</span>

<span class="kn">from</span> <span class="nn">my_package</span> <span class="kn">import</span> <span class="n">my_processing_function</span>

<span class="n">connection_string</span> <span class="o">=</span> <span class="s">"amqp://user:pass@localhost:5672/aireinsights"</span>

<span class="n">ai</span> <span class="o">=</span> <span class="n">AireInsights</span><span class="p">(</span><span class="n">connection_string</span><span class="p">)</span>

<span class="o">@</span><span class="n">ai</span><span class="p">.</span><span class="n">module</span><span class="p">(</span><span class="s">'demo-module'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_module</span><span class="p">(</span><span class="n">step_name</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">my_processing_function</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span> 

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">ai</span><span class="p">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div></div>

<ol>
  <li>The <code class="language-plaintext highlighter-rouge">connection_string</code> is the url to connect the module to the core AireInsights service. We recommend to pass this in as an environment variable as it includes the password for the AireInsights message broker.</li>
  <li>The we create an instance of the <code class="language-plaintext highlighter-rouge">AireInsights</code> class</li>
  <li>We then use the <code class="language-plaintext highlighter-rouge">module()</code> decorator to tell AireInsights about this module and under which name to find it.</li>
  <li>The function receives the name of the step that calls this module (<code class="language-plaintext highlighter-rouge">step_name</code>), the data sent to the module as a string in the second argument (<code class="language-plaintext highlighter-rouge">body</code>) and the module context (<code class="language-plaintext highlighter-rouge">context</code>). The module context can be defined as part of the step definition in the pipeline and allows to use the same module using a different configuration when called from different steps.
This function will do all the processing of the data (in our casse it calls the <code class="language-plaintext highlighter-rouge">my_processing_function</code> to do that) and then it returns the module output as a string, in the step definition we can specify as what kind of data format this string should be interpreted as.</li>
</ol>

                        <div class="share uk-text-center">
    <a href="https://twitter.com/intent/tweet?text=Python SDK&url=/docs/sdk/python-sdk/&via=airelogic&related=airelogic" rel="nofollow" target="_blank" title="Share on Twitter" onclick="window.open(this.href, 'twitter', 'width=550,height=235');return false;"><span data-uk-icon="icon: twitter; ratio: 1.2"></span></a>
    <a  class="uk-margin-small-left" href="https://www.facebook.com/sharer/sharer.php?u=%2Fdocs%2Fsdk%2Fpython-sdk%2F" rel="nofollow" target="_blank" title="Share on Facebook" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"><span data-uk-icon="icon: facebook; ratio: 1.2"></span></a>
</div>

                    </div>

                    <hr class="uk-margin-medium">

                    


  
  

  
  

  
  

  
  

  
  

  
  

  
  
    <ul class="uk-pagination uk-margin-top">
          
            
            
            <li><a class="hvr-back" href="/docs/concepts/trigger/">&larr; Previous</a></li>
          
          
            
            
            <li class="uk-margin-auto-left"><a class="hvr-forward" href="/docs/sdk/csharp-dotnet-sdk/">Next &rarr;</a></li>
          
    </ul>
    


                    <div class="uk-margin-large-top">
    <h3>Related Articles</h3>

    
    
    

    <ul class="uk-list">
    

    
    

    

    
        <li><a href="/docs/api/auth/">Authentication</a></li>
        
        
    

    

    
    

    

    
        <li><a href="/docs/api/endpoints/">Endpoints</a></li>
        
        
    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    

    

    
    

    

    
        <li><a href="/docs/sdk/csharp-dotnet-sdk/">C# SDK</a></li>
        
        
    

    

    
    

    

    

    
    </ul>
</div>


                    
                </article>

                <div>
                    <div class="uk-section uk-text-center uk-link-muted">
    <div class="uk-margin-medium uk-text-small">
        <div></div>
        <div></div> 
    </div> 
</div>

                </div>

                <script>
                    // Table of contents scroll to
                    UIkit.scroll('#markdown-toc a', {
                        duration: 400,
                        offset: 120
                    });
                </script>

            </div>

    </div>
</div>


    <div id="offcanvas-docs" data-uk-offcanvas="overlay: true">
    <div class="uk-offcanvas-bar">

        <button class="uk-offcanvas-close" type="button" data-uk-close></button>

        
        <h5 class="uk-margin-top">Getting Started</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/getting-started/what-is/">Getting Started with AireInsights</a></li>
        
          
          
          <li class=""><a href="/docs/getting-started/first-pipeline/">Setting up the first data pipeline</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Concepts</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/concepts/pipeline/">Data Pipeline</a></li>
        
          
          
          <li class=""><a href="/docs/concepts/step/">Processing Step</a></li>
        
          
          
          <li class=""><a href="/docs/concepts/data-lake/">Data Lake</a></li>
        
          
          
          <li class=""><a href="/docs/concepts/trigger/">Pipeline triggers</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Toolkits</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class="uk-active"><a href="/docs/sdk/python-sdk/">Python SDK</a></li>
        
          
          
          <li class=""><a href="/docs/sdk/csharp-dotnet-sdk/">C# SDK</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">Management</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/management/failedPipelines/">Pipeline failures</a></li>
        
        </ul>
        
        <h5 class="uk-margin-top">API</h5>
        <ul class="uk-nav uk-nav-default doc-nav">
        
          
          
          <li class=""><a href="/docs/api/auth/">Authentication</a></li>
        
          
          
          <li class=""><a href="/docs/api/endpoints/">Endpoints</a></li>
        
        </ul>
        

    </div>
</div>


    <div id="offcanvas" data-uk-offcanvas="flip: true; overlay: true">
    <div class="uk-offcanvas-bar">

        <button class="uk-offcanvas-close" type="button" data-uk-close></button>

        <ul class="uk-nav uk-nav-default">
            <li><a class="uk-logo uk-margin-small-bottom" href="/">AireInsights Docs</a></li>
            
                
            <li><a href="/docs/getting-started/what-is" >Getting Started</a></li>
            
                
            <li><a href="/changelog/" >Changelog</a></li>
            
                
            <li><a href="https://www.airelogic.com/aireinnovate" target="_blank" >About AireInnovate</a></li>
            
        </ul>

        <div class="uk-margin-small-top uk-text-center uk-text-muted uk-link-muted">
            <div data-uk-grid class="uk-child-width-auto uk-grid-small uk-flex-center uk-grid">
                













            </div>
        </div>

    </div>
</div>


    

    </body>

</html>
